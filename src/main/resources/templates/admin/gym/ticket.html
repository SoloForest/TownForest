<html layout:decorate="~{home/layout.html}">

<head>
    <title>이용권 관리</title>
</head>

<body>

<main layout:fragment="main" class="flex items-center justify-center">
    <div class="px-4 flex flex-col">
        <div class="flex gap-2 items-center justify-center">
            <i class="fa-solid fa-ticket" style="color: #91c0fd;"></i>
            <h2 class="card-title">이용권 관리</h2>
        </div>

        <div class="card-body bg-base-100 shadow-xl m-2 mt-4">
            <div class="flex wrap items-center gap-2">
                <i class="fa-regular fa-calendar-days" style="color: #91c0fd;"></i>
                <h2 class="font-bold">이용권 정보</h2>
            </div>
            <div class="form-control flex gap-2 mt-2" th:each="ticket : ${gymTicketList}">
                <label class="flex items-center gap-2">
                    <span class="label-text"
                          th:text="|${ticket.name} - ${#numbers.formatInteger(ticket.price, 3, 'COMMA') + '원'}|"
                          th:value="${ticket.price}">
                        </span>
                    <div class="font-bold" th:if="${ticket.content != null}"
                         th:text="${'(' + ticket.content + ')'}"></div>
                    <a th:href="@{|/admin/gym/ticket/modify/${ticket.type}|}" class="btn btn-sm btn-outline-secondary"
                       th:text="수정"></a>
                    <a onclick="if ( confirm('정말로 삭제하시겠습니까?') ) $(this).next().submit();"
                       class="btn btn-sm btn-outline-secondary" th:text="삭제"></a>
                    <form hidden th:action="@{|/admin/gym/ticker/delete/${ticket.type}|}" method="POST">
                        <input type="hidden" name="_method" value="delete">
                    </form>
                </label>
            </div>
        </div>
        <div class="flex justify-end">
            <a th:href="@{|/admin/gym/ticket/register}"
               class="btn btn-sm btn-outline-secondary" th:text="이용권생성"></a>
        </div>
    </div>
</main>
</body>
</html>

